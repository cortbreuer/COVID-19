upperCOVID <- filter(lateCOVID, Cases >= 1500)
upperID <- unique(upperCOVID$GeoId)
lateCOVID <- filter(lateCOVID, GeoId %in% upperID)
background_lateCOVID <- select(lateCOVID, -"Countries")
##Daily values
ggplot(data = filter(lateCOVID, Count == "daily"),
mapping = aes(x = DateRep, y = Cases, color = Countries, group = GeoId)) +
geom_line(data = filter(background_lateCOVID, Count == "daily"), color = "grey", alpha = .8) +
geom_line(show.legend = FALSE) +
facet_wrap(. ~ Countries) +
theme_bw() +
xlab("")
upperCOVID <- filter(lateCOVID, Cases >= 1400)
upperID <- unique(upperCOVID$GeoId)
lateCOVID <- filter(lateCOVID, GeoId %in% upperID)
background_lateCOVID <- select(lateCOVID, -"Countries")
##Daily values
ggplot(data = filter(lateCOVID, Count == "daily"),
mapping = aes(x = DateRep, y = Cases, color = Countries, group = GeoId)) +
geom_line(data = filter(background_lateCOVID, Count == "daily"), color = "grey", alpha = .8) +
geom_line(show.legend = FALSE) +
facet_wrap(. ~ Countries) +
theme_bw() +
xlab("")
upperCOVID <- filter(lateCOVID, Cases >= 1350)
upperID <- unique(upperCOVID$GeoId
background_lateCOVID <- select(lateCOVID, -"Countries")
##Daily values
ggplot(data = filter(lateCOVID, Count == "daily"),
mapping = aes(x = DateRep, y = Cases, color = Countries, group = GeoId)) +
geom_line(data = filter(background_lateCOVID, Count == "daily"), color = "grey", alpha = .8) +
geom_line(show.legend = FALSE) +
facet_wrap(. ~ Countries) +
theme_bw() +
xlab("")
upperID <- unique(upperCOVID$GeoId)
lateCOVID <- filter(lateCOVID, GeoId %in% upperID)
background_lateCOVID <- select(lateCOVID, -"Countries")
##Daily values
ggplot(data = filter(lateCOVID, Count == "daily"),
mapping = aes(x = DateRep, y = Cases, color = Countries, group = GeoId)) +
geom_line(data = filter(background_lateCOVID, Count == "daily"), color = "grey", alpha = .8) +
geom_line(show.legend = FALSE) +
facet_wrap(. ~ Countries) +
theme_bw() +
xlab("")
upperCOVID <- filter(lateCOVID, Cases >= 1325)
upperID <- unique(upperCOVID$GeoId)
lateCOVID <- filter(lateCOVID, GeoId %in% upperID)
background_lateCOVID <- select(lateCOVID, -"Countries")
##Daily values
ggplot(data = filter(lateCOVID, Count == "daily"),
mapping = aes(x = DateRep, y = Cases, color = Countries, group = GeoId)) +
geom_line(data = filter(background_lateCOVID, Count == "daily"), color = "grey", alpha = .8) +
geom_line(show.legend = FALSE) +
facet_wrap(. ~ Countries) +
theme_bw() +
xlab("")
##Total values
ggplot(data = filter(lateCOVID, Count == "total"), mapping = aes(x = DateRep, y = Cases, color = Countries, group = GeoId)) +
geom_line(data = filter(background_lateCOVID, Count == "total"), color = "grey", alpha = .8) +
geom_line(show.legend = FALSE) +
facet_wrap(. ~ Countries) +
theme_bw() +
xlab("")
upperCOVID <- filter(lateCOVID, Cases >= 1300)
upperID <- unique(upperCOVID$GeoId)
lateCOVID <- filter(lateCOVID, GeoId %in% upperID)
background_lateCOVID <- select(lateCOVID, -"Countries")
##Daily values
ggplot(data = filter(lateCOVID, Count == "daily"),
mapping = aes(x = DateRep, y = Cases, color = Countries, group = GeoId)) +
geom_line(data = filter(background_lateCOVID, Count == "daily"), color = "grey", alpha = .8) +
geom_line(show.legend = FALSE) +
facet_wrap(. ~ Countries) +
theme_bw() +
xlab("")
upperCOVID <- filter(lateCOVID, Cases >= 1250)
upperID <- unique(upperCOVID$GeoId)
lateCOVID <- filter(lateCOVID, GeoId %in% upperID)
background_lateCOVID <- select(lateCOVID, -"Countries")
##Daily values
ggplot(data = filter(lateCOVID, Count == "daily"),
mapping = aes(x = DateRep, y = Cases, color = Countries, group = GeoId)) +
geom_line(data = filter(background_lateCOVID, Count == "daily"), color = "grey", alpha = .8) +
geom_line(show.legend = FALSE) +
facet_wrap(. ~ Countries) +
theme_bw() +
xlab("")
upperCOVID <- filter(lateCOVID, Cases >= 1210)
upperID <- unique(upperCOVID$GeoId)
lateCOVID <- filter(lateCOVID, GeoId %in% upperID)
background_lateCOVID <- select(lateCOVID, -"Countries")
##Daily values
ggplot(data = filter(lateCOVID, Count == "daily"),
mapping = aes(x = DateRep, y = Cases, color = Countries, group = GeoId)) +
geom_line(data = filter(background_lateCOVID, Count == "daily"), color = "grey", alpha = .8) +
geom_line(show.legend = FALSE) +
facet_wrap(. ~ Countries) +
theme_bw() +
xlab("")
upperCOVID <- filter(lateCOVID, Cases >= 1200)
upperID <- unique(upperCOVID$GeoId)
lateCOVID <- filter(lateCOVID, GeoId %in% upperID)
background_lateCOVID <- select(lateCOVID, -"Countries")
##Daily values
ggplot(data = filter(lateCOVID, Count == "daily"),
mapping = aes(x = DateRep, y = Cases, color = Countries, group = GeoId)) +
geom_line(data = filter(background_lateCOVID, Count == "daily"), color = "grey", alpha = .8) +
geom_line(show.legend = FALSE) +
facet_wrap(. ~ Countries) +
theme_bw() +
xlab("")
upperCOVID <- filter(lateCOVID, Cases >= 1000)
upperID <- unique(upperCOVID$GeoId)
lateCOVID <- filter(lateCOVID, GeoId %in% upperID)
background_lateCOVID <- select(lateCOVID, -"Countries")
##Daily values
ggplot(data = filter(lateCOVID, Count == "daily"),
mapping = aes(x = DateRep, y = Cases, color = Countries, group = GeoId)) +
geom_line(data = filter(background_lateCOVID, Count == "daily"), color = "grey", alpha = .8) +
geom_line(show.legend = FALSE) +
facet_wrap(. ~ Countries) +
theme_bw() +
xlab("")
upperCOVID <- filter(lateCOVID, Cases >= 900)
upperID <- unique(upperCOVID$GeoId)
lateCOVID <- filter(lateCOVID, GeoId %in% upperID)
background_lateCOVID <- select(lateCOVID, -"Countries")
##Daily values
ggplot(data = filter(lateCOVID, Count == "daily"),
mapping = aes(x = DateRep, y = Cases, color = Countries, group = GeoId)) +
geom_line(data = filter(background_lateCOVID, Count == "daily"), color = "grey", alpha = .8) +
geom_line(show.legend = FALSE) +
facet_wrap(. ~ Countries) +
theme_bw() +
xlab("")
upperCOVID <- filter(lateCOVID, Cases >= 800)
upperID <- unique(upperCOVID$GeoId)
lateCOVID <- filter(lateCOVID, GeoId %in% upperID)
background_lateCOVID <- select(lateCOVID, -"Countries")
##Daily values
ggplot(data = filter(lateCOVID, Count == "daily"),
mapping = aes(x = DateRep, y = Cases, color = Countries, group = GeoId)) +
geom_line(data = filter(background_lateCOVID, Count == "daily"), color = "grey", alpha = .8) +
geom_line(show.legend = FALSE) +
facet_wrap(. ~ Countries) +
theme_bw() +
xlab("")
upperCOVID <- filter(lateCOVID, Cases >= 600)
upperID <- unique(upperCOVID$GeoId)
lateCOVID <- filter(lateCOVID, GeoId %in% upperID)
background_lateCOVID <- select(lateCOVID, -"Countries")
##Daily values
ggplot(data = filter(lateCOVID, Count == "daily"),
mapping = aes(x = DateRep, y = Cases, color = Countries, group = GeoId)) +
geom_line(data = filter(background_lateCOVID, Count == "daily"), color = "grey", alpha = .8) +
geom_line(show.legend = FALSE) +
facet_wrap(. ~ Countries) +
theme_bw() +
xlab("")
upperCOVID <- filter(lateCOVID, Cases >= 500)
upperID <- unique(upperCOVID$GeoId)
lateCOVID <- filter(lateCOVID, GeoId %in% upperID)
background_lateCOVID <- select(lateCOVID, -"Countries")
##Daily values
ggplot(data = filter(lateCOVID, Count == "daily"),
mapping = aes(x = DateRep, y = Cases, color = Countries, group = GeoId)) +
geom_line(data = filter(background_lateCOVID, Count == "daily"), color = "grey", alpha = .8) +
geom_line(show.legend = FALSE) +
facet_wrap(. ~ Countries) +
theme_bw() +
xlab("")
lateCOVID <- mutate(lateCOVID, Count = "daily")
ID <- unique(lateCOVID$GeoId)
lateCOVIDSum <- data.frame()
for(i in 1:length(ID)){
tempCountry <- lateCOVID %>% filter(GeoId == ID[i]) %>% arrange(DateRep)
tempCountry[, "Cases"] <- cumsum(tempCountry$Cases)
tempCountry[, "Count"] <- "total"
lateCOVIDSum <- bind_rows(lateCOVIDSum, tempCountry)
}
lateCOVID <- bind_rows(lateCOVID, lateCOVIDSum)
upperCOVID <- filter(lateCOVID, Cases >= 500)
upperID <- unique(upperCOVID$GeoId)
lateCOVID <- filter(lateCOVID, GeoId %in% upperID)
background_lateCOVID <- select(lateCOVID, -"Countries")
##Daily values
ggplot(data = filter(lateCOVID, Count == "daily"),
mapping = aes(x = DateRep, y = Cases, color = Countries, group = GeoId)) +
geom_line(data = filter(background_lateCOVID, Count == "daily"), color = "grey", alpha = .8) +
geom_line(show.legend = FALSE) +
facet_wrap(. ~ Countries) +
theme_bw() +
xlab("")
#Mutate dataset to get total case data
lateCOVID <- COVID
lateCOVID <- mutate(lateCOVID, Count = "daily")
ID <- unique(lateCOVID$GeoId)
lateCOVIDSum <- data.frame()
for(i in 1:length(ID)){
tempCountry <- lateCOVID %>% filter(GeoId == ID[i]) %>% arrange(DateRep)
tempCountry[, "Cases"] <- cumsum(tempCountry$Cases)
tempCountry[, "Count"] <- "total"
lateCOVIDSum <- bind_rows(lateCOVIDSum, tempCountry)
}
lateCOVID <- bind_rows(lateCOVID, lateCOVIDSum)
upperCOVID <- filter(lateCOVID, Cases >= 500)
upperID <- unique(upperCOVID$GeoId)
lateCOVID <- filter(lateCOVID, GeoId %in% upperID)
background_lateCOVID <- select(lateCOVID, -"Countries")
##Daily values
ggplot(data = filter(lateCOVID, Count == "daily"),
mapping = aes(x = DateRep, y = Cases, color = Countries, group = GeoId)) +
geom_line(data = filter(background_lateCOVID, Count == "daily"), color = "grey", alpha = .8) +
geom_line(show.legend = FALSE) +
facet_wrap(. ~ Countries) +
theme_bw() +
xlab("")
lateCOVID <- mutate(lateCOVID, Count = "daily")
ID <- unique(lateCOVID$GeoId)
lateCOVIDSum <- data.frame()
for(i in 1:length(ID)){
tempCountry <- lateCOVID %>% filter(GeoId == ID[i]) %>% arrange(DateRep)
tempCountry[, "Cases"] <- cumsum(tempCountry$Cases)
tempCountry[, "Count"] <- "total"
lateCOVIDSum <- bind_rows(lateCOVIDSum, tempCountry)
}
lateCOVID <- bind_rows(lateCOVID, lateCOVIDSum)
upperCOVID <- filter(lateCOVID, Cases >= 800)
upperID <- unique(upperCOVID$GeoId)
lateCOVID <- filter(lateCOVID, GeoId %in% upperID)
background_lateCOVID <- select(lateCOVID, -"Countries")
##Daily values
ggplot(data = filter(lateCOVID, Count == "daily"),
mapping = aes(x = DateRep, y = Cases, color = Countries, group = GeoId)) +
geom_line(data = filter(background_lateCOVID, Count == "daily"), color = "grey", alpha = .8) +
geom_line(show.legend = FALSE) +
facet_wrap(. ~ Countries) +
theme_bw() +
xlab("")
#Mutate dataset to get total case data
lateCOVID <- COVID
lateCOVID <- mutate(lateCOVID, Count = "daily")
ID <- unique(lateCOVID$GeoId)
lateCOVIDSum <- data.frame()
for(i in 1:length(ID)){
tempCountry <- lateCOVID %>% filter(GeoId == ID[i]) %>% arrange(DateRep)
tempCountry[, "Cases"] <- cumsum(tempCountry$Cases)
tempCountry[, "Count"] <- "total"
lateCOVIDSum <- bind_rows(lateCOVIDSum, tempCountry)
}
lateCOVID <- bind_rows(lateCOVID, lateCOVIDSum)
upperCOVID <- filter(lateCOVID, Cases >= 800)
upperID <- unique(upperCOVID$GeoId)
lateCOVID <- filter(lateCOVID, GeoId %in% upperID)
background_lateCOVID <- select(lateCOVID, -"Countries")
##Daily values
ggplot(data = filter(lateCOVID, Count == "daily"),
mapping = aes(x = DateRep, y = Cases, color = Countries, group = GeoId)) +
geom_line(data = filter(background_lateCOVID, Count == "daily"), color = "grey", alpha = .8) +
geom_line(show.legend = FALSE) +
facet_wrap(. ~ Countries) +
theme_bw() +
xlab("")
#Mutate dataset to get total case data
lateCOVID <- COVID
lateCOVID <- mutate(lateCOVID, Count = "daily")
ID <- unique(lateCOVID$GeoId)
lateCOVIDSum <- data.frame()
for(i in 1:length(ID)){
tempCountry <- lateCOVID %>% filter(GeoId == ID[i]) %>% arrange(DateRep)
tempCountry[, "Cases"] <- cumsum(tempCountry$Cases)
tempCountry[, "Count"] <- "total"
lateCOVIDSum <- bind_rows(lateCOVIDSum, tempCountry)
}
lateCOVID <- bind_rows(lateCOVID, lateCOVIDSum)
upperCOVID <- filter(lateCOVID, Cases >= 900)
upperID <- unique(upperCOVID$GeoId)
lateCOVID <- filter(lateCOVID, GeoId %in% upperID)
background_lateCOVID <- select(lateCOVID, -"Countries")
##Daily values
ggplot(data = filter(lateCOVID, Count == "daily"),
mapping = aes(x = DateRep, y = Cases, color = Countries, group = GeoId)) +
geom_line(data = filter(background_lateCOVID, Count == "daily"), color = "grey", alpha = .8) +
geom_line(show.legend = FALSE) +
facet_wrap(. ~ Countries) +
theme_bw() +
xlab("")
#Mutate dataset to get total case data
lateCOVID <- COVID
lateCOVID <- mutate(lateCOVID, Count = "daily")
ID <- unique(lateCOVID$GeoId)
lateCOVIDSum <- data.frame()
for(i in 1:length(ID)){
tempCountry <- lateCOVID %>% filter(GeoId == ID[i]) %>% arrange(DateRep)
tempCountry[, "Cases"] <- cumsum(tempCountry$Cases)
tempCountry[, "Count"] <- "total"
lateCOVIDSum <- bind_rows(lateCOVIDSum, tempCountry)
}
lateCOVID <- bind_rows(lateCOVID, lateCOVIDSum)
upperCOVID <- filter(lateCOVID, Cases >= 1000)
upperID <- unique(upperCOVID$GeoId)
lateCOVID <- filter(lateCOVID, GeoId %in% upperID)
background_lateCOVID <- select(lateCOVID, -"Countries")
##Daily values
ggplot(data = filter(lateCOVID, Count == "daily"),
mapping = aes(x = DateRep, y = Cases, color = Countries, group = GeoId)) +
geom_line(data = filter(background_lateCOVID, Count == "daily"), color = "grey", alpha = .8) +
geom_line(show.legend = FALSE) +
facet_wrap(. ~ Countries) +
theme_bw() +
xlab("")
#Mutate dataset to get total case data
lateCOVID <- COVID
lateCOVID <- mutate(lateCOVID, Count = "daily")
ID <- unique(lateCOVID$GeoId)
lateCOVIDSum <- data.frame()
for(i in 1:length(ID)){
tempCountry <- lateCOVID %>% filter(GeoId == ID[i]) %>% arrange(DateRep)
tempCountry[, "Cases"] <- cumsum(tempCountry$Cases)
tempCountry[, "Count"] <- "total"
lateCOVIDSum <- bind_rows(lateCOVIDSum, tempCountry)
}
lateCOVID <- bind_rows(lateCOVID, lateCOVIDSum)
upperCOVID <- filter(lateCOVID, Cases >= 1200)
upperID <- unique(upperCOVID$GeoId)
lateCOVID <- filter(lateCOVID, GeoId %in% upperID)
background_lateCOVID <- select(lateCOVID, -"Countries")
##Daily values
ggplot(data = filter(lateCOVID, Count == "daily"),
mapping = aes(x = DateRep, y = Cases, color = Countries, group = GeoId)) +
geom_line(data = filter(background_lateCOVID, Count == "daily"), color = "grey", alpha = .8) +
geom_line(show.legend = FALSE) +
facet_wrap(. ~ Countries) +
theme_bw() +
xlab("")
#Mutate dataset to get total case data
lateCOVID <- COVID
lateCOVID <- mutate(lateCOVID, Count = "daily")
ID <- unique(lateCOVID$GeoId)
lateCOVIDSum <- data.frame()
for(i in 1:length(ID)){
tempCountry <- lateCOVID %>% filter(GeoId == ID[i]) %>% arrange(DateRep)
tempCountry[, "Cases"] <- cumsum(tempCountry$Cases)
tempCountry[, "Count"] <- "total"
lateCOVIDSum <- bind_rows(lateCOVIDSum, tempCountry)
}
lateCOVID <- bind_rows(lateCOVID, lateCOVIDSum)
upperCOVID <- filter(lateCOVID, Cases >= 1400)
upperID <- unique(upperCOVID$GeoId)
lateCOVID <- filter(lateCOVID, GeoId %in% upperID)
background_lateCOVID <- select(lateCOVID, -"Countries")
##Daily values
ggplot(data = filter(lateCOVID, Count == "daily"),
mapping = aes(x = DateRep, y = Cases, color = Countries, group = GeoId)) +
geom_line(data = filter(background_lateCOVID, Count == "daily"), color = "grey", alpha = .8) +
geom_line(show.legend = FALSE) +
facet_wrap(. ~ Countries) +
theme_bw() +
xlab("")
##Total values
ggplot(data = filter(lateCOVID, Count == "total"), mapping = aes(x = DateRep, y = Cases, color = Countries, group = GeoId)) +
geom_line(data = filter(background_lateCOVID, Count == "total"), color = "grey", alpha = .8) +
geom_line(show.legend = FALSE) +
facet_wrap(. ~ Countries) +
theme_bw() +
xlab("")
#Normalize start date
normalizedLateCOVID <- data.frame()
for(i in 1:length(upperID)){
tempLateCOVID <- filter(lateCOVID, GeoId == upperID[i]) %>% arrange(DateRep)
tempLateCOVID[, "timeSince"] <- difftime(tempLateCOVID$DateRep, tempLateCOVID$DateRep[1], units = "days")
normalizedLateCOVID <- rbind(normalizedLateCOVID, tempLateCOVID)
}
background_normalizedLateCOVID <- select(normalizedLateCOVID, -"Countries")
##Daily values
facetNormalizedCOVIDDaily <- ggplot(data = filter(normalizedLateCOVID, Count == "daily"), mapping = aes(x = timeSince, y = Cases, color = Countries, group = GeoId)) +
geom_line(data = filter(background_normalizedLateCOVID, Count == "daily"), color = "grey", alpha = .8) +
geom_line(show.legend = FALSE) +
facet_wrap(. ~ Countries) +
theme_bw() +
xlab("")
ggsave(plot = facetNormalizedCOVIDDaily, here("figures", "2020-03-23_Facet_Daily-Cases.png"), width = 10, height = 7)
#Select for common start case number
lateCOVID100 <- filter(normalizedLateCOVID, Cases >= 100)
normalizedLateCOVID100 <- data.frame()
for(i in 1:length(upperID)){
tempLateCOVID100 <- filter(lateCOVID100, GeoId == upperID[i]) %>% arrange(DateRep)
tempLateCOVID100[, "timeSince"] <- difftime(tempLateCOVID100$DateRep, tempLateCOVID100$DateRep[1], units = "days")
normalizedLateCOVID100 <- rbind(normalizedLateCOVID100, tempLateCOVID100)
}
background_normalizedLateCOVID100 <- select(normalizedLateCOVID100, -"Countries")
##Total values
facetNormalizedCOVIDTotal_lin <- ggplot(data = filter(normalizedLateCOVID100, Count == "total"), mapping = aes(x = timeSince, y = Cases, color = Countries, group = GeoId)) +
geom_line(data = filter(background_normalizedLateCOVID100, Count == "total"), color = "grey", alpha = .8) +
geom_line(show.legend = FALSE) +
facet_wrap(. ~ Countries) +
theme_bw() +
xlim(0, 30) +
xlab("")
facetNormalizedCOVIDTotal_exp <- ggplot(data = filter(normalizedLateCOVID100, Count == "total"), mapping = aes(x = timeSince, y = Cases, color = Countries, group = GeoId)) +
geom_line(data = filter(background_normalizedLateCOVID100, Count == "total"), color = "grey", alpha = .8) +
geom_line(show.legend = FALSE) +
scale_y_log10(breaks = c(100, 1000, 10000, 100000), limits = c(100, 100000)) +
annotation_logticks(sides="l") +
facet_wrap(. ~ Countries) +
xlim(0, 30) +
theme_bw() +
xlab("Days Since 100th Case")
ggsave(plot = facetNormalizedCOVIDTotal_lin, here("figures", "2020-03-23_Facet-Lin_Case-Total.png"), width = 10, height = 7)
ggsave(plot = facetNormalizedCOVIDTotal_exp, here("figures", "2020-03-23_Facet-Exp_Case-Total.png"), width = 10, height = 7)
##Total values
facetNormalizedCOVIDTotal_lin <- ggplot(data = filter(normalizedLateCOVID100, Count == "total"), mapping = aes(x = timeSince, y = Cases, color = Countries, group = GeoId)) +
geom_line(data = filter(background_normalizedLateCOVID100, Count == "total"), color = "grey", alpha = .8) +
geom_line(show.legend = FALSE) +
facet_wrap(. ~ Countries) +
theme_bw() +
xlim(0, 22) +
xlab("")
facetNormalizedCOVIDTotal_exp <- ggplot(data = filter(normalizedLateCOVID100, Count == "total"), mapping = aes(x = timeSince, y = Cases, color = Countries, group = GeoId)) +
geom_line(data = filter(background_normalizedLateCOVID100, Count == "total"), color = "grey", alpha = .8) +
geom_line(show.legend = FALSE) +
scale_y_log10(breaks = c(100, 1000, 10000, 100000), limits = c(100, 100000)) +
annotation_logticks(sides="l") +
facet_wrap(. ~ Countries) +
xlim(0, 22) +
theme_bw() +
xlab("Days Since 100th Case")
ggsave(plot = facetNormalizedCOVIDTotal_lin, here("figures", "2020-03-23_Facet-Lin_Case-Total.png"), width = 10, height = 7)
ggsave(plot = facetNormalizedCOVIDTotal_exp, here("figures", "2020-03-23_Facet-Exp_Case-Total.png"), width = 10, height = 7)
##Daily values
facetNormalizedCOVIDDaily <- ggplot(data = filter(normalizedLateCOVID, Count == "daily"), mapping = aes(x = timeSince, y = Cases, color = Countries, group = GeoId)) +
geom_line(data = filter(background_normalizedLateCOVID, Count == "daily"), color = "grey", alpha = .8) +
geom_line(show.legend = FALSE) +
facet_wrap(. ~ Countries) +
theme_bw() +
xlab("Days Since First Case")
ggsave(plot = facetNormalizedCOVIDDaily, here("figures", "2020-03-23_Facet_Daily-Cases.png"), width = 10, height = 7)
#Plot faceted daily and total case values for 6 countries
ggplot(data = filter(limitedCOVID, Count == "daily"),
mapping = aes(x = DateRep, y = Cases, color = Countries, group = GeoId)) +
geom_line(data = filter(background_limitedCOVID, Count == "daily"), color = "grey", alpha = .8) +
geom_line(show.legend = FALSE) +
facet_wrap(. ~ Countries) +
theme_bw() +
xlab("")
#Plot faceted daily and total case values for 6 countries
ggplot(data = filter(limitedCOVID, Count == "daily"), mapping = aes(x = DateRep, y = Cases, color = Countries, group = GeoId)) +
geom_line(data = filter(background_limitedCOVID, Count == "daily"), color = "grey", alpha = .8) +
geom_line(show.legend = FALSE) +
facet_wrap(. ~ Countries) +
theme_bw() +
xlab("")
#Limit dataset to 6 countries, mutate to get total case data
limitedCOVID <- filter(COVID, (GeoId %in% c('IT', 'ES', 'KR', 'US', 'FR', 'DE')) & (Month == c(2, 3)))
limitedCOVID <- mutate(limitedCOVID, Count = "daily")
ID <- unique(limitedCOVID$GeoId)
limitedCOVIDSum <- data.frame()
for(i in 1:length(ID)){
tempCountry <- limitedCOVID %>% filter(GeoId == ID[i]) %>% arrange(DateRep)
tempCountry[, "Cases"] <- cumsum(tempCountry$Cases)
tempCountry[, "Count"] <- "total"
limitedCOVIDSum <- bind_rows(limitedCOVIDSum, tempCountry)
}
limitedCOVID <- bind_rows(limitedCOVID, limitedCOVIDSum)
background_limitedCOVID <- select(limitedCOVID, -"Countries")
#Plot faceted daily and total case values for 6 countries
ggplot(data = filter(limitedCOVID, Count == "daily"), mapping = aes(x = DateRep, y = Cases, color = Countries, group = GeoId)) +
geom_line(data = filter(background_limitedCOVID, Count == "daily"), color = "grey", alpha = .8) +
geom_line(show.legend = FALSE) +
facet_wrap(. ~ Countries) +
theme_bw() +
xlab("")
ggsave(plot = limitedCOVIDDaily, here("figures", "2020-03-23_Limited-Facet_Daily-Cases.png"), width = 10, height = 6)
#Plot faceted daily and total case values for 6 countries
limitedCOVIDDaily <- ggplot(data = filter(limitedCOVID, Count == "daily"), mapping = aes(x = DateRep, y = Cases, color = Countries, group = GeoId)) +
geom_line(data = filter(background_limitedCOVID, Count == "daily"), color = "grey", alpha = .8) +
geom_line(show.legend = FALSE) +
facet_wrap(. ~ Countries) +
theme_bw() +
xlab("")
limitedCOVIDTotal <- ggplot(data = filter(limitedCOVID, Count == "total"), mapping = aes(x = DateRep, y = Cases, color = Countries, group = GeoId)) +
geom_line(data = filter(background_limitedCOVID, Count == "total"), color = "grey", alpha = .8) +
geom_line(show.legend = FALSE) +
facet_wrap(. ~ Countries) +
theme_bw() +
xlab("")
ggsave(plot = limitedCOVIDDaily, here("figures", "2020-03-23_Limited-Facet_Daily-Cases.png"), width = 10, height = 6)
ggsave(plot = limitedCOVIDTotal, here("figures", "2020-03-23_Limited-Facet_Case-Total.png"), width = 10, height = 6)
#Plot faceted daily and total case values for 6 countries
limitedCOVIDDaily <- ggplot(data = filter(limitedCOVID, Count == "daily"), mapping = aes(x = DateRep, y = Cases, color = Countries, group = GeoId)) +
geom_line(data = filter(background_limitedCOVID, Count == "daily"), color = "grey", alpha = .8) +
geom_line(show.legend = FALSE) +
facet_wrap(. ~ Countries) +
theme_bw() +
xlab("")
limitedCOVIDTotal <- ggplot(data = filter(limitedCOVID, Count == "total"), mapping = aes(x = DateRep, y = Cases, color = Countries, group = GeoId)) +
geom_line(data = filter(background_limitedCOVID, Count == "total"), color = "grey", alpha = .8) +
geom_line(show.legend = FALSE) +
facet_wrap(. ~ Countries) +
theme_bw() +
xlab("")
limitedCOVIDTotal_exp <- ggplot(data = filter(limitedCOVID, Count == "total"), mapping = aes(x = DateRep, y = Cases, color = Countries, group = GeoId)) +
geom_line(data = filter(background_limitedCOVID, Count == "total"), color = "grey", alpha = .8) +
geom_line(show.legend = FALSE) +
facet_wrap(. ~ Countries) +
scale_y_log10(breaks = c(1, 100, 1000, 10000, 50000), limits = c(1, 50000)) +
annotation_logticks(sides="l") +
theme_bw() +
xlab("")
ggsave(plot = limitedCOVIDTotal_exp, here("figures", "2020-03-23_Limited-Facet-Exp_Case-Total.png"), width = 10, height = 6)
